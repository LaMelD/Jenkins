# 3장 UNIX/Linux 기본 명령어와 개념

**기본 리눅스 명령어가 익숙한 독자는 4장으로 가서 쉘 스크립트 작성에 관련된 기본 문법을 숙달하는 것을 추천한다.**

### 3.1 입출력 재지정

|fd|fd 이름|용도|표준 장치|
|:---|:---|:---|:---|
|0|stdin(standard input)|명령어에 입력될 내용을 저장|키보드|
|1|stdout(standard output)|명령어에서 출력될 내용을 저장|화면|
|2|stderr(standard error)|명령어에서 출력될 에러 메시지를 저장|화면|

![std](../imgs/ch03/std-in-out-err.PNG)

![filestd](../imgs/ch03/filestd.PNG)

- 이렇게 키보드 같은 표준 입력 장치가 아닌 파일 등으로 재지정하는 것을 입력 재지정(input redirection)이라고 하고, 명령어의 실행 결과나 에러 메시지 같이 화면에 출력되는 것을 파일 등에 저장하는 것을 출력 재지정(output redirection)이라고 한다.
- 입출력 재지정
    - `<` : 입력 재지정
    - `>` : 출력 재지정
    - fd 번호를 받으시 붙여서 사용한다
    
    |형식|내용|
    |:---|:---|
    |명령어 fd 번호 < 파일|명령어에서 기본 지정된 파일이나 표준 입력 장치가 아닌 재지정된 파일에서 데이터를 입력받는다.|
    |명령어 fd 번호 > 파일|명령어에서 기본 지정된 파일이나 표준 출력 장치가 아닌 재지정된 파일에 데이터를 출력한다.|

    - 입출력 재지정을 사용할 때 fd 번호를 생략할 수 있다.

- 예시
    1. 입력
        
        ```
        명령어 < 파일
        명령어 0< 파일
        $ cat system
        Linux
        $ tr '[A-Z]' '[a-z]' < system
        linux
        ```

    2. 출력
        - `>` 이름이 같은 파일이 있다면 덮어쓰기
        - `>>` 이름이 같은 파일이 있다면 새로운 내용을 추가
        
        ```
        명령어 > 파일
        명령어 1> 파일
        명령어 >> 파일
        명령어 1>> 파일
        $ date > day-time
        $ cat day-time
        Sun Jul 19 13:14:15 UTC 2020
        $ date >> day-time
        $ cat day-time
        Sun Jul 19 13:14:15 UTC 2020
        Sun Jul 19 13:14:29 UTC 2020
        ```

        ```
        명령어 2> 파일
        명령어 2>> 파일
        ```

    3. 출력과 에러 메시지가 동일한 파일에 출력하도록 재지정할 수 있다.
        - 명령어의 중복을 막기 위해 이용할 수 있다.
        - `>&` : 기호 앞에 fd 번호 1은 생략이 가능하지만 기호 뒤에 fd 번호는 생략이 불가함을 기억해야 한다.

### 3.2 파이프 (Pipe)

- 앞의 명령어의 실행 결과가 뒤의 명령어에 입력되도록 입출력을 연결하는 연결하는 역할을 한다.
- 파이프의 역할은 출력 재지정과 유사하다.
    - 출력 재지정의 경우 하드디스크 같은 보조 기억 매체의 입출력 버퍼에 저장하고 재지정된 명령어에 전달하기 때문에 버퍼에 저장하고 처리하는데 시간이 걸린다.
    - 파이프의 경우, 여러 개의 명령어가 파이프로 실행될 때 이들 명령어가 거의 동식에 실행되면서 입출력되는 데이터들이 파이프로 연결되어 처리되므로 상대적으로 처리 시간이 빠른 것이 특징이다.

![pipe](../imgs/ch03/pipe.PNG)